//init.js
var img;
var WIDTH;
var HEIGHT;

var logArea = document.getElementsByName("UserCheckCode")[0];

var canvas1 = document.createElement("canvas");
//canvas1.style.display = "none";
canvas1.style.backgroundColor = "cornsilk";
var ctx1 = canvas1.getContext("2d");

var canvas2 = document.createElement("canvas");
//canvas2.style.display = "none";
canvas2.style.backgroundColor = "cornsilk";
var ctx2 = canvas2.getContext("2d");

var canvas3 = document.createElement("canvas");
//canvas3.style.display = "none";
canvas3.style.backgroundColor = "cornsilk";
var ctx3 = canvas3.getContext("2d");

document.getElementsByTagName("body")[0].appendChild(canvas1);
document.getElementsByTagName("body")[0].appendChild(canvas2);
document.getElementsByTagName("body")[0].appendChild(canvas3);

function initAll(){
    img = document.getElementById("img");
    if(!img){
        img = document.getElementsByTagName("img")[0];
    }
    WIDTH = img.clientWidth;
    HEIGHT = img.clientHeight;
    canvas1.width = WIDTH;
    canvas1.height = HEIGHT;
    canvas2.width = WIDTH;
    canvas2.height = HEIGHT;
    canvas3.width = WIDTH;
    canvas3.height = HEIGHT;
}//初始化尺寸

//canvas.js
function toHex(fromImgData){//二值化图像
    var fromPixelData = fromImgData.data;
    var greyAve = 0;
    for(var j=0;j<WIDTH*HEIGHT;j++){
        var r = fromPixelData[4*j];
        var g = fromPixelData[4*j+1];
        var b = fromPixelData[4*j+2];

        greyAve += r*0.3 + g*0.59 + b*0.11;
    }
    greyAve /= WIDTH*HEIGHT;//计算平均灰度值。
    for(j=0;j<WIDTH*HEIGHT;j++){
        r = fromPixelData[4*j];
        g = fromPixelData[4*j+1];
        b = fromPixelData[4*j+2];
        var grey = r*0.333 + g*0.333 + b*0.333;//取平均值。
        if(grey > greyAve)
            grey = 255;
        else
            grey = 0;

        fromPixelData[4*j] = grey;
        fromPixelData[4*j+1] = grey;
        fromPixelData[4*j+2] = grey;
    }
    return fromImgData;
}//二值化图像

function corrode(fromArray){
    for(var j=1;j<fromArray.length-1;j++){
        for(var k=1;k<fromArray[j].length-1;k++){
            if(fromArray[j][k]==1&&fromArray[j-1][k]+fromArray[j+1][k]+fromArray[j][k-1]+fromArray[j][k+1]==0){
                fromArray[j][k] = 0;
            }
        }
    }
    return fromArray;
}//腐蚀（简单）

function expand(fromArray){
    for(var j=1;j<fromArray.length-1;j++){
        for(var k=1;k<fromArray[j].length-1;k++){
            if(fromArray[j][k]==0&&fromArray[j-1][k]+fromArray[j+1][k]+fromArray[j][k-1]+fromArray[j][k+1]==4){
                fromArray[j][k] = 1;
            }
        }
    }
    return fromArray;
}//膨胀（简单）

function split(fromArray,count){
    var numNow = 0;
    var status = false;

    var w = fromArray[0].length;
    for(var k=0;k<w;k++) {//遍历图像
        var sumUp = 0;
        for (var j=0;j<fromArray.length;j++) {//检测整列是否有图像
            sumUp += fromArray[j][k];
        }
        if(sumUp == 0){//切割
            for (j=0;j<fromArray.length-1;j++) {
                fromArray[j] = removeFromArray(fromArray[j],k);
            }
            w --;
            k --;
            status = false;
            continue;
        }
        else{//切换状态
            if(!status){
                numNow ++;
            }
            status = true;
        }
        if(numNow!=count){//不是想要的数字
            for (j=0;j<fromArray.length-1;j++) {
                fromArray[j] = removeFromArray(fromArray[j],k);
            }
            w --;
            k --;
        }
    }
    return fromArray;
}//切割，获取特定数字

function trimUpDown(fromArray){
    var h = fromArray.length;
    for(var j=0;j<h;j++) {
        var sumUp = 0;
        for (var k=0;k<fromArray[j].length-1;k++) {
            sumUp += fromArray[j][k];
        }
        if(sumUp===0){//清除
            fromArray = removeFromArray(fromArray,j);
            h --;
            j --;
        }
    }
    return fromArray;
}//清除上下的空白

function zoomToFit(fromArray){
    var imgD = fromXY(fromArray);
    var w = lastWidth;
    var h = lastHeight;
    var tempc1 = document.createElement("canvas");
    var tempc2 = document.createElement("canvas");
    if(!fromArray[0]){
        window.location.reload();
    }
    tempc1.width = fromArray[0].length;
    tempc1.height = fromArray.length;
    tempc2.width = w;
    tempc2.height = h;
    var tempt1 = tempc1.getContext("2d");
    var tempt2 = tempc2.getContext("2d");
    tempt1.putImageData(imgD,0,0,0,0,tempc1.width,tempc1.height);
    tempt2.drawImage(tempc1,0,0,w,h);
    var returnImageD = tempt2.getImageData(0,0,WIDTH,HEIGHT);
    fromArray = toXY(returnImageD);
    fromArray.length = h;
    for(var i=0;i<h;i++){
        fromArray[i].length = w;
    }
    return fromArray;
}//尺寸归一化

function getCode(fromArray){
    var result = '';
    for(var j=0;j<fromArray.length;j++){
        for(var k=0;k<fromArray[j].length;k++){
            result += (""+fromArray[j][k]);
        }
        result += ";";
    }
    return result;
}//生成特征码


//output.js
function drawThis(toCtx,fromImg){
    toCtx.drawImage(fromImg,0,0,fromImg.width,fromImg.height);
}

function drawArray(toCtx,fromArray){
    var fromImageData = fromXY(fromArray);
    toCtx.putImageData(fromImageData,0,0,0,0,WIDTH,HEIGHT);
}

function logXY(fromArray){
    logArea.innerHTML = '';
    for(var k=0;k<fromArray.length;k++){
        for(var j=0;j<fromArray[k].length;j++){
            var str = '';
            if(fromArray[k][j]===0){
                str = '&nbsp;'
            }
            else if(fromArray[k][j]===1){
                str = '.'
            }
            else if(fromArray[k][j]===-1){
                str = ','
            }
            logArea.innerHTML += str;
        }
        logArea.innerHTML += '<br>';
    }
}

//tools.js
var lastWidth = 20;
var lastHeight = 20;
var numsCount = 4;
var numsArray;

function getData(){
    var code = '';
    code += readNum(numsArray[0]);
    code += readNum(numsArray[1]);
    code += readNum(numsArray[2]);
    code += readNum(numsArray[3]);
    return code;
}//根据特征码识别
function removeFromArray(fromArray,obj){
    for(var i =0;i <fromArray.length;i++){
        var temp = fromArray[i];
        if(!isNaN(obj)){
            temp=i;
        }
        if(temp == obj){
            for(var j = i;j <fromArray.length;j++){
                fromArray[j]=fromArray[j+1];
            }
            fromArray.length = fromArray.length-1;
        }
    }
    return fromArray;
}//移除数组中元素

function toXY(fromImgData){
    var result = new Array(HEIGHT);
    var fromPixelData = fromImgData.data;
    for(var j=0;j<HEIGHT;j++){
        result[j] = new Array(WIDTH);
        for(var k=0;k<WIDTH;k++){
            var r = fromPixelData[4*(j*WIDTH+k)];
            var g = fromPixelData[4*(j*WIDTH+k)+1];
            var b = fromPixelData[4*(j*WIDTH+k)+2];

            result[j][k] = (r+g+b)>500?0:1;//赋值0、1给内部数组
        }
    }
    return result;
}//图像转数组

function fromXY(fromArray){
    var fromImgData = ctx1.createImageData(WIDTH,HEIGHT);
    var fromPixelData = fromImgData.data;
    for(var j=0;j<fromArray.length;j++){
        for(var k=0;k<fromArray[j].length;k++){
            var innergrey = (fromArray[j][k]==1?0:255);
            fromPixelData[4*(j*WIDTH+k)] = innergrey;
            fromPixelData[4*(j*WIDTH+k)+1] = innergrey;
            fromPixelData[4*(j*WIDTH+k)+2] = innergrey;
            fromPixelData[4*(j*WIDTH+k)+3] = 255;
        }
    }
    return fromImgData;
}//数组转图像

function dealWithSingle(fromPixelArray,num){
    var arrayCopy = new Array(fromPixelArray.length);
    for(var i=0;i<fromPixelArray.length;i++){
        arrayCopy[i] = new Array(fromPixelArray[i].length);
        for(var j=0;j<fromPixelArray[i].length;j++){
            arrayCopy[i][j] = fromPixelArray[i][j]+0;
        }
    }
    arrayCopy = split(arrayCopy,num);//切割
    arrayCopy = trimUpDown(arrayCopy);//去上下空白
    drawArray(ctx3,arrayCopy);//画出单一图像
    arrayCopy = zoomToFit(arrayCopy,15,15);
    arrayCopy = corrode(arrayCopy);//腐蚀
    arrayCopy = expand(arrayCopy);//膨胀
    arrayCopy = trimUpDown(arrayCopy);//去上下空白
    drawArray(ctx3,arrayCopy);//画出缩放图像
    var getCode_arrayCopy = getCode(arrayCopy);//生成特征码
    console.log(getCode_arrayCopy);
    return getCode_arrayCopy;
}

function readNum(str){
    var tempSimilar = 0;
    var tempFeature = '';
    var tempNum = 0;
    str = str.split('');
    for(var i=0;i<numkeys.length;i++){
        var thisFeature = numkeys[i][1];
        var thisNum = numkeys[i][0];
        var thisSimilar = 0;
        thisFeature = thisFeature.split('');
        for(var j=0;j<thisFeature.length;j++){
            if(thisFeature[j]==str[j]){
                thisSimilar++;
            }
        }
        if(thisSimilar>tempSimilar){
            tempFeature = thisFeature;
            tempNum = thisNum;
            tempSimilar = thisSimilar;
        }
    }
    return tempNum;
}

//work.js
function dudeImHere() {
    initAll();//初始化
    drawThis(ctx1, img);//画出原图
    var imgData = ctx1.getImageData(0, 0, WIDTH, HEIGHT);//读取图像数据
    imgData = toHex(imgData);//二值化图像数据
    ctx2.putImageData(imgData, 0, 0, 0, 0, WIDTH, HEIGHT);//画出二值化图
    var pixelArray = toXY(imgData);//将图片数据转化为数组
    pixelArray = corrode(pixelArray);//腐蚀
    pixelArray = expand(pixelArray);//膨胀
    numsArray = new Array(numsCount);//分割、处理并保存
    for (var c = 0; c < numsCount; c++) {
        numsArray[c] = dealWithSingle(pixelArray, c + 1);
    }
    try {
        logArea.value = getData();
        //alert(getData());
    }
    catch (e) {
        //window.location.reload();
        alert(e);
    }
}

var numkeys = [
    ['7','01111111111111111110;01111111111111111110;00011111111111111111;00000000000001111111;00000000000001111110;00000000000111111110;00000000000111111000;00000000001111111000;00000000001111111000;00000000001111111000;00000011111111100000;00000011111111000000;00000111111100000000;00000111110000000000;00011111110000000000;01111111110000000000;01111111100000000000;11111110000000000000;11111110000000000000;01111110000000000000;'],
    ['1','00000000000011111111;00000000000011111111;00000000011111111111;00000001111111111111;00000111111111111111;00000111111111111111;00000111111111111111;00000111111111111111;00000011111111111100;00000111111111111000;00000111111111100000;00011111111111100000;00111111111111000000;00111111111000000000;00111111110000000000;11111111110000000000;11111111000000000000;11111111000000000000;11111111000000000000;11111000000000000000;'],
    ['4','00000000000000111111;00000000000000111111;00000000000011111111;00000000011111111111;00000000011111111111;00000001111111111110;00000011111111111100;00000011111111111000;00001111111111111000;00011111111111111000;01111111111111110000;11111111111111111000;11111111111111111000;11111111111111111000;11111111111111111000;00000001111110000000;00000001111110000000;00000001111110000000;00000001111110000000;00000001111110000000;'],
    ['5','00111111111111000000;11111111111111000000;11111111111111000000;11111111111110000000;01111111110000000000;11111111111100000000;11111111111111110000;00111111111111111100;00001111111111111100;00000100001111111111;00000000000111111111;00000000000111111111;00000000000111111111;00000000000111111111;00000000000111111111;00000000000111111110;11111111111111111100;11111111111111111100;11111111111110000000;11111111111000000000;'],
    ['0','00011111110000000000;00011111110000000000;11111111111110000000;11111101111110000000;11111100111111110000;01111100000111110000;11111100000111110000;11111110000111111000;11111110000111111000;00111111000011111100;00011111100001111111;00001111100000111111;00001111100000111111;00001111110000111111;00001111110001111110;00001111110001111110;00000111111111111110;00000011111111111000;00000001111111110000;00000000111111110000;'],
    ['3','01111111100000000000;11111111110000000000;11111111111100000000;11111111111110000000;11111111111111000000;00111000111110000000;00000000111110000000;00000000111111000000;00000011111111000000;00000011111111000000;00000011111111111000;00000011111111111100;00000000000111111111;00000000000011111111;00000000000000011111;00000000011111111111;00000001111111111110;00000011111111111100;00000001111111111000;00000000111111100000;'],
    ['4','00011100000000000000;00111110000000000000;00111111100000000000;00111111111000000000;00111111111000000000;11111111111000000000;11111111111100000000;11111111111110000000;11111111111110000000;11111111111110000000;11111111111111100000;11111111111111100000;11111111111111111111;11111111111111111111;00011111111111111111;00001111111111111111;00000000011111111000;00000000011111111000;00000000000111111000;00000000000011100000;'],
    ['9','00111111111100000000;00111111111111000000;00111111111111110000;11111111111111110000;11111100111111110000;11111110111111111000;11111111001111111100;00111111000011111111;00111111110011111110;00111111111111111111;00111111111111111111;00001111111111111111;00000011111111111111;00000000111111111111;00000000000001111111;00000000000000111111;00000000001111111111;00000000001111111111;00000000001111111111;00000000001111111100;'],
    ['9','00000000001111111000;00000000111111111000;00000001111111111110;00000001111100111110;00000001111100111111;00000111111100011111;00000111111000011111;00000111110000111111;00001111110011111110;00011111111111111100;00011111111111111000;00000111111111111000;00000111111111111000;01110000011111100000;01111100001111100000;11111101111111100000;11111001111100000000;11111111111100000000;01111111110000000000;00011111100000000000;'],
    ['6','00011111111100000000;01111111111100000000;01111111111111100000;01111111001111111000;01111110000111111000;00111110000111111000;00011111100111100000;00011111111111110000;00011111111111111100;00011111111111111110;00011111110001111111;00011111100001111111;00011111100001111111;00111111100001111111;01111110000011111110;01111110111111111000;11111110111111100000;01111111111111000000;01111111111100000000;00011111110000000000;'],
    ['4','00000000000011111100;00000000000011111100;00000000000011111111;00000000000011111111;00000000000111111111;00000000000111111111;00000000011111111111;00000000011111111111;00000001111111111111;00000111111111111111;00011111111111111111;00011111100011111100;11111111111111111100;11111111111111111100;11111111111111111100;00000000011111111000;00000001111111100000;00000001111111100000;00000001111111100000;00000000011110000000;'],
    ['8','00000000011111111110;00000000011111111110;00000000111111111111;00000011111100111111;00000111111000111110;00001111111011111110;00001111110011111100;00001111111111111100;00001111111111110000;00001111111111100000;00001111111111100000;00111111111111100000;01111111011111100000;11111100011111100000;11111100011111100000;11111100011111100000;11111100011111000000;01111111111111000000;01111111111100000000;00111111111100000000;'],
    ['5','00111111111111111111;11111111111111111111;11111111111111111100;01111111000000000000;11111111000000000000;11111111111111100000;11111111111111111000;11111111111111111100;11111111100011111111;11111111100001111111;11111110000000111111;00111000000000111111;00000000000000111111;00000000000000111111;00000000000001111111;11111100000011111110;11111111111111111100;01111111111111111100;00011111111111100000;00011111111110000000;'],
    ['2','00000111111111100000;00000111111111111000;01111111111111111100;11111111111111111100;00111110000011111110;00000000000011111111;00000000000011111100;00000000001111111100;00000000111111111100;00000001111111111100;00001111111111111000;00011111111111110000;00111111111110000000;00111111111100000000;00111111110000000000;11111111000000000000;11111111000000000000;11111111111111111111;01111111111111111111;00111111111111111100;'],
    ['1','00000000111111100000;00000011111111111000;11111111111111111100;11111111111111111100;11111111111111111100;11111111111111111100;11111111111111111100;00000111111111111100;00000111111111111100;00000111111111111100;00000111111111111100;00000111111111111100;00000111111111111100;00000111111111111100;00000111111111111100;00000111111111111100;11111111111111111111;11111111111111111111;11111111111111111111;11111111111111111111;'],
    ['8','00011111111111111000;00011111111111111000;00111111111111111100;00111111100011111100;01111111000011111100;11111111000011111100;11111111000011111100;00111111111111111100;00111111111111111100;00111111111111111000;00111111111111111100;11111111111111111111;11111111000011111111;11111111000011111111;11111111000011111111;11111111000011111111;11111111111111111110;01111111111111111100;00011111111111111000;00000111111111100000;'],
    ['2','00111111111000000000;01111111111100000000;11111111111100000000;11111100111111100000;00000000011111100000;00000000001111100000;00000000011111100000;00000000011111110000;00000000011111110000;00000000111111100000;00000011111111100000;00000011111111100000;00000011111111100000;00000000111111000000;00000011111100000000;00000011111000000000;00000011111000000000;00000011111111111110;00000011111111111111;00000011111111111111;'],
    ['9','00001111111000000000;00111111111000000000;01111111111100000000;01111110111111000000;11111100011111000000;01111110011111100000;01111110001111110000;00111110001111110000;00111110001111110000;00111111110011111100;00000111111111111100;00000111111111111100;00000011111111111100;00000000000001111110;00000000111100111111;00000000111100001111;00000000111111111111;00000000111111111110;00000000011111111110;00000000001111111100;'],
    ['7','01111111111111111111;11111111111111111111;01111111111111111111;00000000000000011111;00000000000001111111;00000000000001111110;00000000000001111111;00000000000000011111;00000000000000011111;00000000000000011111;00000000000000011111;00000000000001111111;00000000000001111110;00000000000001111110;00000000000111111110;00000000000111111110;00000000111111111000;00000000111111100000;00000000111111000000;00000000111111000000;'],
    ['8','01111111110000000000;11111111111000000000;11111111111100000000;11111111111111000000;11111100111111000000;11111100011111000000;01111100011111000000;01111111111111000000;00001111111111000000;00001111111111000000;00001111111111110000;00001111111111111100;00001111110011111110;00000111110000111111;00000111110000111111;00000111110000111110;00000111111001111110;00000111111111111110;00000011111111111100;00000000111111110000;'],
    ['3','00011111111000000000;00011111111110000000;00011111111111111000;00011111001111111000;00011111000111111000;00000000000111111000;00000000000011111000;00000000011111111100;00000001111111111100;00000000111111111100;00000000011111111111;00000000000011111111;00000000000001111111;00000000000000111111;00000000000000111111;00000000000011111111;00000000001111111000;11111111111111111000;11111111111000000000;00111111111000000000;'],
    ['3','00000000011111111100;00000000011111111110;00000000111111111111;00000000111100111111;00000000000001111110;00000000000011111110;00000000001111110000;00000000011111110000;00000011111111110000;00000111111111100000;00000111111111100000;00000011111111100000;00000000011111100000;00000000011111000000;00000000011111000000;01110000011111000000;11111100011111000000;11111111111111000000;01111111111100000000;00111111111000000000;'],
    ['0','00000000111111100000;00000000111111111000;00000011111111111110;00000011111101111110;00000111111101111111;00000111111001111111;00000111110000111111;00011111110001111111;00011111100001111111;00111111000011111100;11111100000111110000;11111000000111100000;11111000001111100000;11111000011111100000;11111000111111100000;11111000111111000000;11111011111110000000;11111111111100000000;11111111100000000000;11111111100000000000;'],
    ['3','00000011111111000000;00000011111111111000;00000011111111111110;00000011111000111110;00001111111000111110;00000011100000111111;00000000000000111111;00000000000000111110;00000000000111111110;00000000011111111110;00000000011111111110;00000000000111111110;00000000000011111110;00000000000111111000;01111000000111111000;11111000011111111000;11111001111111110000;11111111111111000000;01111111111110000000;01111111111000000000;'],
    ['7','11111111111111111111;11111111111111111111;11111111111111111110;00000000000111111110;00000000000111111110;00000000000111111000;00000000001111111000;00000000001111111000;00000000001111111000;00000000001111100000;00000000111111100000;00000000111111100000;00000011111111100000;00000011111111000000;00000011111111000000;00000111111111000000;00011111111100000000;00011111110000000000;00011111100000000000;00011111100000000000;'],
    ['4','00000011110000000000;00000011111100000000;00001111111100000000;00111111111100000000;00111111111111000000;00111111111111000000;00011111111111000000;01111111111111000000;11111111111111000000;11111111111111000000;11111111111111110000;11111111111111110000;11111111111111111111;11111111111111111111;11111111111111111111;11111111111111111100;00000000001111110000;00000000001111110000;00000000001111110000;00000000000011000000;'],
    ['8','00011111111111100000;00111111111111110000;11111111111111111000;11111111111111111000;11111111000111111000;11111111001111111000;11111111111111111100;01111111111111111100;00011111111111111100;00001111111111111100;00001111111111111111;00011111111111111111;00111111100011111111;00111111100011111111;00111111100011111111;00111111100011111111;00111111111111111111;00111111111111111111;00001111111111111000;00000111111111111000;'],
    ['7','00111111111111111100;11111111111111111111;11111111111111111111;00111111111111111111;00000000001111111111;00000000000111111111;00000000000111111111;00000000011111111111;00000000011111111100;00000000011111111100;00000000011111111111;00000000000111111111;00000000000111111100;00000000001111111100;00000000011111111100;00000000011111111100;00000000011111111100;00000000011111111100;00000000011111111100;00000000011111110000;'],
    ['1','00000000000111111111;00000000111111111111;00000111111111111111;00111111111111111111;00111111111111111111;11111111111111111111;11111111111111111111;11111111111111111111;00000000111111111111;00000000111111111111;00000000111111111111;00000000111111111111;00000000111111111111;00000000111111111111;00000000111111111111;00000000111111111111;00000000111111111111;00000000111111111111;00000000111111111111;00000000000111100000;'],
    ['1','00011111111111111000;11111111111111111000;11111111111111111000;11111111111111111000;00111111111111111000;00011111111111111000;00011111111111111000;00011111111111111000;00011111111111111000;00011111111111111000;00011111111111111000;00011111111111111000;00011111111111111000;00011111111111111000;00011111111111111000;00111111111111111100;11111111111111111111;11111111111111111111;11111111111111111111;00011111111111111000;'],
    ['9','00000111111111111000;00011111111111111000;00111111111111111100;00111111111111111100;11111111000111111111;11111111000011111111;11111111000011111111;11111111000011111111;11111111000011111111;11111111100111111111;00111111111111111100;00111111111111111100;00001111111111111100;00000111111111111100;00000000111111111000;00000001111111110000;00011111111111100000;00111111111110000000;00111111111000000000;00011111100000000000;'],
    ['1','00000111111111111100;00111111111111111100;11111111111111111100;11111111111111111100;00111111111111111100;00000111111111111100;00000111111111110000;00000111111111100000;00000111111111100000;00000111111111100000;00000111111111100000;00000111111111100000;00000111111111100000;00000111111111100000;00000111111111100000;00000111111111100000;00111111111111111100;11111111111111111111;11111111111111111111;00111111111111111100;'],
    ['3','00001111111100000000;00111111111111000000;11111111111111110000;11111111111111110000;11111110011111111100;00000000000001111111;00000000000011111111;00000000001111111111;00000000111111111100;00000000111111111100;00000000111111111100;00000000001111111111;00000000000011111111;00000000000000111111;00000000000001111111;00011110000011111111;00111111100111111100;00111111111111111100;00111111111111110000;00111111111100000000;'],
    ['4','00000000001111000000;00000000111111100000;00000000111111100000;00000011111111100000;00000011111111111000;00000011111111111000;00000011111111111000;00000011111111111000;00001111111111111000;00011111110111111000;00111111110111111000;01111111110111111100;11111111111111111111;11111111111111111111;01111111111111111111;00000000011111111000;00000000001111111000;00000000001111100000;00000000001111100000;00000000001111100000;'],
    ['2','00011111111111100000;00111111111111111000;11111111111111111000;11111111000111111100;00111100000111111100;00000000000011111111;00000000000011111111;00000000000111111111;00000000011111111111;00000001111111111100;00000111111111111100;00011111111111111000;00011111111111100000;00111111111000000000;00111111111000000000;00111111100000000000;00111111100000000000;11111111111111111100;11111111111111111100;11111111111111111100;'],
    ['6','00001111111111000000;00111111111111110000;00111111111111110000;00111111111111110000;11111111000111100000;01111111000000000000;00111111000000000000;00111111111111110000;00111111111111111100;00111111111111111100;00111111111111111111;00111111110011111111;00111111000000111111;00111111000000111111;00111111100001111111;00001111111111111111;00001111111111111100;00001111111111111100;00000011111111110000;00000000111111000000;'],
    ['6','00000000011111110000;00000000011111110000;00001111111111110000;00111111111111000000;00111111111100000000;11111111110000000000;11111111100000000000;11111111111111100000;11111111111111110000;11111111111111111000;11111111111111111100;11111111111111111100;11111110000111111111;11111110000111111111;11111110000111111111;11111110000111111100;11111110001111111100;11111111111111111100;00111111111111110000;00111111111111110000;'],
    ['6','00000011111111110000;00001111111111110000;00111111111111110000;11111111111111100000;11111111111000000000;11111111110000000000;11111111111111110000;00111111111111111100;11111111111111111100;11111111111111111111;11111111111111111111;11111111100111111111;11111111100111111111;11111111100001111111;00111111100111111111;00111111111111111110;00111111111111111100;00111111111111111100;00001111111111110000;00000011111111110000;'],
    ['5','00000000000011111110;00000000000111111111;00000000011111111111;00000000011111000000;00000000011110000000;00000000111111000000;00000001111111100000;00000001111111111000;00000000111111111000;00000000001111111000;00000000000111111000;00000000000111110000;00000000000111111000;00000000001111111000;00000000011111100000;00000000011111000000;00000001111111000000;11111111111100000000;11111111100000000000;11111111100000000000;'],
    ['7','11111111111111111111;11111111111111111111;01111111111111111111;00000000000001111111;00000000000001111111;00000000000111111110;00000000000111111110;00000000001111111000;00000000001111111000;00000000001111111000;00000011111111100000;00000011111111000000;00011111111111000000;00011111110000000000;00011111110000000000;01111111110000000000;11111111100000000000;11111000000000000000;11111000000000000000;11111000000000000000;'],
    ['2','00000000011111111100;00000000011111111100;00000011111111111110;00000011111100111111;00000001111100111111;00000000000000111111;00000000000000111111;00000000000011111111;00000000111111111110;00000001111111111000;00000011111111100000;00001111111111000000;00011111111100000000;01111111100000000000;01111111000000000000;11111110000000000000;11110000000000000000;11111111111110000000;11111111111111000000;01111111111111000000;'],
    ['2','00000001111111111000;00000001111111111100;00000001111111111110;00000011111111111110;00000011111111111111;00000011111000111111;00000011111000111111;00000011111111111111;00000011111111111111;00000001111111111000;00000001111111111000;00000011111111111000;00000011111110000000;00011111111110000000;00111111111110000000;11111111111110000000;11111111111111000000;11111111111111000000;11111111111111000000;01111111111110000000;'],
    ['0','00001111111111000000;00111111111111000000;00111111111111110000;11111111001111111100;11111111001111111100;11111100000011111100;11111100000011111110;11111100000011111111;11111100000011111111;11111100000011111111;11111100000011111111;11111100000011111111;11111100000011111111;11111100000011111110;11111100000011111100;11111111001111111100;11111111111111111000;00111111111111110000;00111111111111000000;00001111111111000000;'],
    ['4','00111111000000000000;00111111110000000000;00111111111100000000;00111111111100000000;00111111111100000000;00111111111111000000;00111111111111000000;00111111111111110000;00111111111111110000;00111111001111110000;11111111111111111100;11111111111111111111;11111111111111111111;11111111111111111111;00000000001111110000;00000000001111110000;00000000011111110000;00000000111111110000;00000000111111000000;00000000001100000000;'],
    ['6','01111111111100000000;01111111111100000000;11111111111111000000;11111111111111000000;11111111111100000000;01111111100000000000;11111110000000000000;11111111111111100000;00111111111111110000;00011111111111111111;00001111111111111111;00000111111100111111;00000111111100011111;00000111111100011111;00000111111100111111;00000111111101111111;00000011111111111111;00000011111111111110;00000000111111111110;00000000111111111000;'],
    ['1','00000000000111111111;00000011111111111111;00000111111111111111;00011111111111111111;00111111111111111111;00111111111111111111;00000111111111111111;00000011111111111111;00000000111111111111;00000000111111111111;00000000111111111111;00000000111111111111;00000011111111111111;00000111111111111111;00000111111111111100;11111111111111111111;11111111111111111111;11111111111111111111;11111111111111111111;11111111111111111111;'],
    ['3','00000000001111111000;00000000111111111100;00000001111111111111;00000111111111111111;00000111111111111111;00000111111101111111;00000111111101111111;00000001111101111111;00000000111111111110;00000011111111111110;00000011111111111000;00000000001111111000;00000000001111111000;00000000001111111000;00111100001111111000;01111111111111110000;11111111111111100000;11111111111111100000;11111111111100000000;01111111110000000000;'],
    ['6','00000011111111100000;00000111111111111000;00011111111111111110;00011111110111111111;00011111110001111111;00000111110000011111;00000111110000000000;00011111111111111110;00011111111111111110;00011111111111111111;00011111110001111111;00011111110000011111;01111111110001111111;01111111100001111110;11111110001111111110;11111110001111111000;11111110111111111000;01111111111111100000;01111111111111000000;01111111111100000000;'],
    ['0','00000000000111111111;00000000011111111111;00000000111111111111;00000111111111111111;00000111111111111111;00000111111000111111;00011111111000111111;00111111110000111111;00111111100000111111;01111111100000111111;11111111000001111111;11111111000111111111;11111111000111111100;11111111000111111100;11111111011111111000;11111111111111111000;11111111111111111000;11111111111100000000;11111111111000000000;00111111111000000000;'],
    ['1','00000000000000111111;00000000000011111111;00000000001111111111;00000000001111111111;00000000001111111111;00000000000001111111;00000000000000111111;00000000000011111111;00000000001111111111;00000000111111111100;00000000111111110000;00000000111111000000;00000000111111000000;00000001111111000000;00000011111111000000;00000011111100000000;00000111111100000000;11111111111100000000;11111111111100000000;11111111111100000000;'],
    ['9','00000001111111111000;00000001111111111000;00000011111111111100;00000011111111111110;00000011111000111110;00000011111000111111;00001111111000111111;00001111110011111110;00011111000111111100;00111111011111110000;00111111111111110000;00011111111111110000;00001111111111110000;00001111111111000000;00000011111110000000;00000111111000000000;11111111111000000000;11111111111000000000;11111100000000000000;11111100000000000000;'],
    ['8','00000011111111110000;00001111111111111100;00001111111111111100;00001111111111111111;00011111111111111111;00111111111001111111;00111111111111111111;00001111111111111111;00001111111111111100;00001111111111110000;00001111111111111100;00001111111111111100;11111111111111111100;11111111111111111100;11111110011111111100;11111111111111111100;11111111111111111100;00111111111111110000;00111111111111110000;00001111111111000000;'],
    ['9','00000000000111111100;00000000011111111111;00000111111111111111;00000111111111111111;00111111111111111111;00111111111011111111;00111111000011111100;01111111000011111100;11111111001111111100;11111111011111111100;11111111111111111000;11111111111111111000;01111111111111100000;00011111111111000000;00001111111100000000;11111111111000000000;11111111111000000000;11111111100000000000;11111110000000000000;00111100000000000000;'],
    ['0','00011111111100000000;01111111111100000000;01111111111111100000;01111111111111111000;01111111101111111000;00111111100111111110;00011111110011111111;00011111110001111111;00011111110001111111;00011111110001111111;00011111110001111111;00011111110001111111;00011111110001111111;00111111110011111111;01111111100111111110;11111111111111111000;11111111111111000000;11111111111111000000;01111111111100000000;00011111111100000000;'],
    ['6','00000000000000111111;00000000000000111111;00000000000111111111;00000000001111111000;00000000011111111000;00000001111111100000;00000001111111100000;00000111111111111110;00001111111111111110;00011111111111111110;00011111100011111110;00111111100011111110;11111111100111111110;11111110000111111100;11111111000111111000;11111111111111111000;11111111111111000000;11111111111111000000;01111111111110000000;00011111111000000000;'],
    ['5','00000000011111111111;00000000011111111111;00000000011111111111;00000000111111000000;00000011111100000000;00000111111000000000;00000111110000000000;00000111111111100000;00000111111111100000;00000111111111100000;00000000001111100000;00000000001111110000;00000000011111100000;00000000011111100000;11111100011111100000;11111100111111100000;11111100111111000000;11111111111111000000;01111111111100000000;00111111111000000000;'],
    ['7','01111111111111111111;01111111111111111111;00011111111111111111;00000000000000111111;00000000000011111110;00000000000011111000;00000000000011111000;00000000000111111000;00000000000111110000;00000000000111110000;00000001111111110000;00000011111111000000;00001111111110000000;00001111100000000000;00001111100000000000;01111111100000000000;01111111000000000000;11111100000000000000;11111100000000000000;11111000000000000000;'],
    ['3','00000000011111111100;00000000111111111100;00000000111111111110;00000001111100111111;00000000111000111111;00000000000000111111;00000000000000111111;00000000001111111111;00000001111111111110;00000011111111111000;00000011111111110000;00000001111111110000;00000000001111110000;00000000001111100000;00000000001111100000;11110000111111100000;11111001111111000000;11111111111100000000;01111111111000000000;00111111110000000000;'],
    ['9','00000111111111100000;00000111111111111100;00000111111111111100;00000111111111111111;00001111111011111111;00011111111001111111;00011111111000111111;00011111111000111111;00011111111000111111;00000111111111111111;00000111111111111111;00000111111111111110;00000000111111111100;00000011111111111000;00001111111111110000;11111111111100000000;11111111111000000000;11111111100000000000;00111111000000000000;00011111111000000000;'],
    ['1','00000000000011111100;00000000001111111111;00000001111111111111;00000001111111111111;00111111111111111111;00111111111111111111;00111111111111111111;00111111111111111111;00000000001111111111;00000001111111111111;00000001111111111100;00000111111111100000;00111111111110000000;00111111111110000000;00111111111110000000;11111111110000000000;11111111110000000000;11111111110000000000;00111111110000000000;00000111111111100000;'],
    ['1','00000011110000000000;00001111111100000000;11111111111100000000;11111111111110000000;11111111111111000000;00000001111111000000;00000011111111000000;00000011111111000000;00000011111111100000;00000011111111110000;00000000111111110000;00000000111111110000;00000000111111110000;00000000111111110000;00000000111111110000;00000000111111110000;00000000111111110000;00000011111111111111;00001111111111111111;00000011111111111111;'],
    ['2','00011111111111100000;00111111111111110000;00111111111111111000;00011111111111111100;00011111111111111111;00011111111111111111;00011111111011111111;00011111110011111111;00001111100111111111;00000110001111111100;00000000011111111100;00000000011111111100;00000000111111100000;00000111111111100000;00111111111111110000;11111111111111111000;11111111111111111100;11111111111111111100;11111111111111111100;00011111111111111000;'],
    ['8','00000111111111111000;00000111111111111111;00000111111111111111;00000111111000111111;00000111111000111111;00000111111000111111;00000111111111111111;00000111111111111111;00000011111111111111;00000011111111111111;00001111111111111111;00111111111000111111;11111111100001111111;11111111100011111100;11111100000111111100;11111111001111111100;11111111111111111000;11111111111111111000;11111111111000000000;00111111111000000000;'],
    ['9','00000000011111110000;00000001111111111000;00000001111111111110;00000011111111111110;00000011111111111111;00000011111000111111;00000011111000111111;00000011111000111111;00000011111100111111;00000011111111111111;00000011111111111111;00000011111111111100;00000011111111111000;00000000000111110000;00000000001111110000;01111000011111100000;11111111111111000000;11111111111110000000;01111111111110000000;01111111111000000000;'],
    ['2','00000000011111111110;00000001111111111111;00000001111111111111;00000001111110011111;00000000000000111111;00000000000111111110;00000000000111111100;00000000011111111000;00000011111111110000;00000111111111110000;00011111111111100000;00011111111100000000;11111111100000000000;11111111100000000000;11111000000000000000;11111000000000000000;11111111111110000000;11111111111111000000;11111111111111000000;01111111111110000000;'],
    ['2','00000000111111111000;00000001111111111100;00000011111111111110;00000011111111111110;00000111111111111111;00000111111111111111;00000111110001111111;00000111111101111111;00000111111001111111;00000001110001111111;00000000000011111110;00000000001111111110;00000000011111111100;00000111111111100000;00000111111111000000;11111111111111000000;11111111111111100000;11111111111111100000;11111111111111100000;01111111111111100000;'],
    ['1','00001111111000000000;00111111111000000000;11111111111000000000;11111111111000000000;11111111111000000000;00111111111000000000;00001111111000000000;00001111111000000000;00001111111000000000;00001111111000000000;00001111111110000000;00001111111111000000;00000011111111110000;00000011111111110000;00000011111111110000;00000011111111110000;00000011111111111000;00000011111111111111;00000011111111111111;00000011111111111111;'],
    ['9','00111111111100000000;11111111111100000000;11111111111111111100;00111111111111111100;01111111111111111100;11111111001111111100;11111111001111111100;11111111000011111100;11111111111111111111;11111111111111111111;00111111111111111111;00001111111111111111;00000011111111111111;00000011111111111111;00000000011111111111;00000000111111111110;00001111111111111100;00001111111111111100;00001111111111110000;00001111111100000000;'],
    ['1','00111111000000000000;11111111110000000000;11111111111100000000;11111111111110000000;11111111111110000000;00111111111110000000;00000111111110000000;00000111111110000000;00000111111111100000;00000011111111100000;00000001111111111000;00000001111111111100;00000001111111111100;00000001111111111100;00000001111111111100;00000001111111111100;00000111111111111100;00001111111111111111;00111111111111111111;00000111111111111100;'],
    ['7','00111111111111111100;11111111111111111111;11111111111111111111;11111111111111111111;11111111111111111111;11111111100000111111;00001111110001111111;00001111000011111111;00000000000111111111;00000000001111111100;00000000000011111100;00000000000011111111;00000000000011111110;00000000001111111100;00000000001111111100;00000000011111111100;00000000111111110000;00000000111111110000;00000000111111110000;00000000001111000000;'],
    ['8','11111111110000000000;11111111111100000000;11111111111111110000;11111111111111110000;11111111111111111100;01111111111111111111;00111111110011111110;00011111111111111100;00001111111111111000;00001111111111111100;00001111111111111100;00011111110011111111;00111111110011111111;01111111000111111111;11111111001111111100;11111110001111111100;11111111111111110000;11111111111111110000;11111111111100000000;11111111110000000000;'],
    ['9','00011111111000000000;00111111111000000000;11111111111110000000;11111111111111100000;11111111111111110000;01111111001111111100;00111111100011111111;00011111111001111111;00011111111001111111;00001111111111111111;00000111111111111111;00000011111111111111;00000001111111111111;00000000000000111111;00000000000011111111;00011111001111111111;00111111111111111100;00111111111111111000;00011111111111100000;00011111111111100000;'],
    ['8','01111111110000000000;11111111111100000000;11111111111100000000;11111111111110000000;11111111111111100000;11111110011111100000;01111111111111100000;01111111111111100000;00111111111111100000;00001111111111111100;00000011111111111111;00000011111101111111;00000111111101111111;00000111110000011111;00000111111000111111;00000111111101111111;00000011111101111111;00000011111111111110;00000000111111111110;00000000111111111000;'],
    ['2','00111111111000000000;11111111111100000000;11111111111110000000;11111111111111100000;11111111111111100000;11111111111111100000;11111111111111111000;01111111001111111100;00111111000111111100;00111110000111111100;00000000000111111100;00000000011111111100;00000000111111110000;00000111111111100000;00000111111111100000;00000111111111111111;00011111111111111111;00111111111111111111;00111111111111111111;00011111111111111111;'],
    ['1','00111111000000000000;00111111110000000000;00111111111000000000;11111111111110000000;11111111111110000000;11111111111110000000;11111111111110000000;00001111111110000000;00000111111110000000;00000111111110000000;00000111111111100000;00000011111111111000;00000001111111111100;00000001111111111100;00000001111111111100;00001111111111111111;00111111111111111111;00111111111111111111;00011111111111111111;00000111111111111111;'],
    ['5','00000000111111111110;00000011111111111111;00000011111111111111;00000011111111111100;00001111111100000000;00011111100000000000;00011111100000000000;00011111111111100000;00011111111111100000;00001111111111100000;00000001111111110000;00000000001111111000;00000000001111111000;00111000001111111000;11111000001111111000;11111000001111111000;11111000001111100000;11111111111111100000;01111111111111000000;00011111111111000000;'],
    ['3','00000111111111100000;00000111111111111000;00011111111111111100;00111111111111111111;00111111100011111111;00111111100011111111;00000111000011111111;00000000000111111100;00000001111111111100;00000001111111111000;00000001111111111111;00000000000011111111;00000000000011111111;11111111000011111111;11111111100011111111;11111111100011111111;00111111111111111111;00011111111111111000;00011111111111111000;'],
    ['5','00001111111111111100;00111111111111111100;00111111111111111100;00111111000000000000;00111111000000000000;00111111000000000000;00111111100000000000;00111111111111110000;00111111111111111000;00111111111111111100;00111111000011111111;00011000000011111111;00000000000001111111;11111100000000111111;11111111000011111111;11111111000011111110;01111111111111111100;00111111111111111100;00001111111111110000;00000000111100000000;'],
    ['2','00111111111111110000;00111111111111110000;11111111111111111100;11111111111111111100;11111110011111111100;00000000000111111100;00000000000111111111;00000000000001111111;00000000000001111110;00000000000111111100;00000000000111111100;00000000001111111100;00000000111111110000;00000011111111110000;00000011111111011111;00001111111111011111;00011111111111111111;00111111111111111111;00111111111111111111;00001111111111111111;'],
    ['9','01111111111100000000;01111111111100000000;11111111111111000000;11111000111111000000;11111110111111111000;11111110000111111000;11111110000111111110;11111110000111111110;11111111100111111110;00111111110111111111;00001111111111111111;00000011111111111111;00000011111111111111;00011111100001111110;00011111100001111110;00011111110011111110;00011111110111111110;00000111111111111000;00000011111111100000;00000011111111100000;'],
    ['5','00001111111111111100;00001111111111111100;00001111111111111100;00111111111111111100;00111111110000000000;00111111100000000000;00111111111111000000;00111111111111110000;00011111111111111100;00000111111111111100;00000000001111111111;00000000000011111111;00001100000011111111;00111100000011111111;11111111000011111111;11111111001111111110;11111111111111111100;00111111111111111100;00001111111111000000;00001111111111000000;'],
    ['2','00000011111111110000;00011111111111111000;00111111111111111100;00111111111111111100;11111111111111111111;11111111111111111111;11111111100111111111;11111111100001111111;11111111100011111111;00111110000111111111;00000000000111111100;00000000011111111100;00000000111111111100;00001111111111110000;00111111111111000000;00111111111111111111;00111111111111111111;11111111111111111111;11111111111111111111;00111111111111111111;'],
    ['0','00000000111111110000;00000000111111110000;00000011111111111100;00000011111111111111;00000111111111111111;00001111111100111111;00001111110000111111;00001111110000111111;00001111110000111111;00001111110000111111;00011111110001111111;01111111110011111111;11111111000011111100;00111111000011111100;00111111001111111100;00111111111111111000;00111111111111110000;00111111111111110000;00111111111100000000;00111111111100000000;'],
    ['5','00011111111111111000;00011111111111111000;00000111111111111000;00000111110000000000;00000111110000000000;00000111110000000000;00000111111000000000;00000111111111111100;00001111111111111110;00011111111111111111;00001111110001111111;00000011000001111111;00000000000000111111;00111110000011111111;11111111000111111110;01111111101111111000;01111111111111111000;00011111111111111000;00000111111111100000;00000111111111000000;'],
    ['2','00001111111111111100;00001111111111111100;00011111111111111100;00111111111111111100;00111111111111111111;00111111100011111111;00111111110011111111;00111111110011111111;00111111110011111111;00001100000111111111;00000011111111111110;00000011111111111000;00000111111100000000;00111111111100000000;11111111111111110000;11111111111111111000;11111111111111111100;11111111111111111100;11111111111111111100;00111111111111110000;'],
    ['6','00000011111000000000;00000011111110000000;00000011111110000000;00000011111110000000;00000011111110000000;00000011111100000000;00001111111000000000;00001111111111111000;00001111111111111100;00001111111111111111;00011111100000111111;00011111100000111111;00111111100011111111;01111111000011111110;01111111000011111110;01111111011111111000;11111111111111110000;01111111111111110000;00011111111111000000;00011111111110000000;'],
    ['8','01111111111000000000;01111111111111000000;01111111111111000000;11111100011111110000;11111100011111110000;11111111000111111000;01111111000111111000;00011111111111111110;00001111111111111110;00000011111111111000;00001111111111111110;00001111111111111111;00011111111011111111;00011111100000111111;00011111100000111111;00011111100011111111;00011111100111111110;00011111111111111000;00011111111111110000;00001111111111000000;'],
    ['2','00011111000000000000;01111111111000000000;01111111111110000000;01111111111111000000;01111001111111000000;11100000011111000000;00000000011111110000;00000000000111110000;00000000000111110000;00000000000111110000;00000000000111110000;00000000000111110000;00000000000011110000;00000000000111110000;00000000011111000000;00000000011111000111;00000001111111111111;00000011111111111111;00000011111111111111;'],
    ['9','00001111111111000000;00111111111111000000;11111111111111110000;11111111111111111100;11111110001111111100;11111110000111111111;11111110000111111111;11111110000111111111;11111111100111111111;11111111111111111111;11111111111111111111;00111111111111111111;00111111111111111111;00000000000111111100;00000000000111111100;01111000001111111100;11111110111111111100;11111111111111110000;11111111111111110000;00111111111111000000;'],
    ['0','01111111110000000000;01111111110000000000;11111111111100000000;11111111111100000000;11111111111111100000;01111110011111100000;01111110001111100000;01111111001111111000;00111111100111111100;00011111110111111110;00001111111111111111;00000111111100011111;00000111111100011111;00000111111100011111;00000011111100111111;00000011111101111110;00000011111111111110;00000011111111111110;00000000111111111000;00000000111111111000;'],
    ['6','00011111110000000000;01111111111100000000;11111111111111000000;11111111111111100000;11111110111111111000;11111110000111111000;11111110000111100000;11111111111111110000;00111111111111111111;00001111111111111111;00000111110000111111;00000111110000011111;00000111110000011111;00000111110000011111;00000111110000011111;00000111111101111111;00000111111101111111;00000111111111111110;00000011111111100000;00000011111111000000']
];
setTimeout(dudeImHere,1500);
logArea.addEventListener("focus", todo);
function todo(e){
  dudeImHere();
}
